#include "LoadStructure.h"

#pragma once
using namespace std;
namespace Resource
{
	class MapResource
	{
		vector<GLTextureResource> map_resource;//список ресурсов, 0 элемент пустой
		vector<ResourceName> map_resource_name;//список имен ресурсов, 0 элемент L""
		vector<uint32_t> resource_reference_count;//количество указателей на ресурс
		/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
		vector<bool> alpha_map;//для каждой текстуры содержит информацию о том используеться ли а-канал
	public:
		MapResource();
		~MapResource();
		/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
		uint32_t MapFindResource(const char resource_name[MMAX_LENGTH]);//функция возвращает ID найденного ресурса или 0 строки которые подаються на вход длжны быть 0-байтными
		/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
		GLuint AddReference(uint32_t resource_ID);
		uint32_t ReleaseResource(uint32_t resource_ID);
		/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
		uint32_t AppendResource(GLuint resource_map, GLuint resource_target, const char resource_name[MMAX_LENGTH], bool use_alpha);//вставляет ресурс и возвращает его id  строки которые подаються на вход длжны быть 0-байтными
		GLTextureResource GetResourceByID(uint32_t resource_id);
		/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
		bool GetAlphaMap(uint32_t resource_id);
		/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	};
}